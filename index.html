<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>IT Interest Calculator (Sections 234A / 234B / 234C)</title>
  <style>
    :root{--bg:#0f1724;--panel:#071827;--muted:#9aa6b2;--accent:#06b6d4}
    body{font-family:Inter,system-ui,Arial;background:linear-gradient(180deg,#041422,#071226);color:#e6eef6;margin:0;padding:20px}
    .container{max-width:980px;margin:16px auto;background:var(--panel);padding:18px;border-radius:12px;box-shadow:0 8px 30px rgba(2,6,23,0.6)}
    h1{margin:0 0 12px;font-size:20px}
    .row{display:flex;gap:12px;flex-wrap:wrap}
    .card{background:rgba(255,255,255,0.02);padding:12px;border-radius:10px;flex:1;min-width:280px}
    label{display:block;font-size:13px;color:var(--muted);margin-bottom:6px}
    input[type="number"], input[type="date"], select{width:100%;padding:8px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:inherit}
    button{background:var(--accent);border:0;padding:10px 12px;border-radius:8px;color:#032028;cursor:pointer;font-weight:600}
    .result{margin-top:12px;padding:10px;border-radius:8px;background:rgba(0,0,0,0.25)}
    table{width:100%;border-collapse:collapse;margin-top:8px}
    td,th{padding:6px;border-bottom:1px dashed rgba(255,255,255,0.03);font-size:13px}
    .muted{color:var(--muted);font-size:13px}
    .small{font-size:13px}
  </style>
</head>
<body>
  <div class="container" role="main">
    <h1>Income-tax Interest Calculator — Sections 234A, 234B & 234C</h1>
    <div class="muted small">This tool follows the standard approach: simple interest @ <strong>1% per month or part thereof</strong> on the unpaid amounts. (Source: Income Tax Department FAQs / Interest tool.)</div>

    <div class="row" style="margin-top:12px">
      <section class="card" aria-labelledby="basic">
        <h2 id="basic" style="font-size:15px;margin:0 0 8px">Common inputs</h2>
        <label>Total tax payable (₹)
          <input id="taxPayable" type="number" step="0.01" value="0">
        </label>
        <label>TDS / TCS / Other credits (₹)
          <input id="tds" type="number" step="0.01" value="0">
        </label>
        <label>Relief / MAT / AMT credit (₹)
          <input id="relief" type="number" step="0.01" value="0">
        </label>
        <label>Self-assessment tax paid on or before due date (₹)
          <input id="selfTax" type="number" step="0.01" value="0">
        </label>
      </section>

      <section class="card" aria-labelledby="dates">
        <h2 id="dates" style="font-size:15px;margin:0 0 8px">Dates</h2>
        <label>Due date of return (under section 139(1))
          <input id="dueReturn" type="date">
        </label>
        <label>Actual date of filing return
          <input id="fileReturn" type="date">
        </label>
        <label>Date to compute 234B (determination / assessment date or date)
          <input id="determineDate" type="date">
        </label>
      </section>
    </div>

    <div class="row" style="margin-top:12px">
      <section class="card">
        <h2 style="font-size:15px;margin:0 0 8px">Section 234A — interest for delay in filing return</h2>
        <div class="muted small">Interest = 1% × (shortfall) × (months or part thereof between day after due date and filing date)</div>
        <button id="calc234A">Calculate 234A</button>
        <div id="out234A" class="result" aria-live="polite"></div>
      </section>

      <section class="card">
        <h2 style="font-size:15px;margin:0 0 8px">Section 234B — interest for default in payment of advance tax</h2>
        <div class="muted small">Interest = 1% × (assessed tax shortfall) × (months or part thereof from April 1 of AY to determination date)</div>
        <label>Is assessee a resident senior citizen with no business income? (If yes — advance tax not applicable)
          <select id="senior">
            <option value="no">No</option>
            <option value="yes">Yes</option>
          </select>
        </label>
        <button id="calc234B">Calculate 234B</button>
        <div id="out234B" class="result" aria-live="polite"></div>
      </section>
    </div>

    <section class="card" style="margin-top:12px">
      <h2 style="font-size:15px;margin:0 0 8px">Section 234C — interest for deferment of advance tax (quarterly instalments)</h2>
      <div class="muted small">Standard due percentages: 15% by 15 Jun, 45% by 15 Sep, 75% by 15 Dec, 100% by 15 Mar (of total advance tax liability).</div>

      <table aria-describedby="inst-desc"><thead><tr><th>Instalment</th><th>Due date</th><th>Required %</th><th>Amount paid till due date (₹)</th><th>Date of actual payment</th></tr></thead>
      <tbody>
        <tr><td>1</td><td>15 Jun</td><td>15%</td><td><input type="number" id="p1" step="0.01" value="0"></td><td><input type="date" id="d1"></td></tr>
        <tr><td>2</td><td>15 Sep</td><td>45%</td><td><input type="number" id="p2" step="0.01" value="0"></td><td><input type="date" id="d2"></td></tr>
        <tr><td>3</td><td>15 Dec</td><td>75%</td><td><input type="number" id="p3" step="0.01" value="0"></td><td><input type="date" id="d3"></td></tr>
        <tr><td>4</td><td>15 Mar</td><td>100%</td><td><input type="number" id="p4" step="0.01" value="0"></td><td><input type="date" id="d4"></td></tr>
      </tbody></table>

      <div style="margin-top:8px"><button id="calc234C">Calculate 234C</button></div>
      <div id="out234C" class="result" aria-live="polite"></div>
    </section>

    <div style="margin-top:12px" class="muted small">References: Income Tax Department interest calculator & FAQs (interest charged @ 1% per month or part thereof). See official tool for authoritative results.</div>
  </div>

  <script>
    // helper functions
    function toNumber(v){ const n = Number(v); return isNaN(n) ? 0 : n; }

    function daysBetween(a,b){ // b - a in ms -> days
      const A = new Date(a); const B = new Date(b); if (!A.getTime()||!B.getTime()) return NaN;
      const diff = B.getTime() - A.getTime(); return Math.ceil(diff / (1000*60*60*24));
    }

    function monthsPartBetween(a,b){
      // count months or part thereof between date a (exclusive) and b (inclusive)
      // we'll compute days and divide by 30, rounding up as "part of month"
      const days = daysBetween(a,b);
      if (isNaN(days) || days <= 0) return 0;
      return Math.ceil(days / 30);
    }

    function formatINR(x){ return '₹ ' + Number(x).toLocaleString('en-IN', {maximumFractionDigits:2, minimumFractionDigits:2}); }

    // 234A
    document.getElementById('calc234A').addEventListener('click', ()=>{
      const taxPayable = toNumber(document.getElementById('taxPayable').value);
      const tds = toNumber(document.getElementById('tds').value);
      const relief = toNumber(document.getElementById('relief').value);
      const selfTax = toNumber(document.getElementById('selfTax').value);
      const due = document.getElementById('dueReturn').value;
      const filed = document.getElementById('fileReturn').value;
      if(!due || !filed){ document.getElementById('out234A').innerText = 'Please enter due date and filing date.'; return; }

      // shortfall for 234A: tax payable less credits (TDS/TCS + advance/self + relief)
      const paidCredits = tds + selfTax + relief;
      let shortfall = taxPayable - paidCredits; if (shortfall < 0) shortfall = 0;

      // interest months: from day after due date to filing date (months or part thereof)
      const dueNext = new Date(due); dueNext.setDate(dueNext.getDate() + 1);
      const months = monthsPartBetween(dueNext.toISOString().slice(0,10), filed);
      const interest = shortfall * 0.01 * months;

      document.getElementById('out234A').innerHTML = `<strong>Shortfall:</strong> ${formatINR(shortfall)}<br><strong>Months (or part):</strong> ${months}<br><strong>Interest @1%/month:</strong> ${formatINR(interest)}`;
    });

    // 234B
    document.getElementById('calc234B').addEventListener('click', ()=>{
      const taxPayable = toNumber(document.getElementById('taxPayable').value);
      const tds = toNumber(document.getElementById('tds').value);
      const relief = toNumber(document.getElementById('relief').value);
      const advanceTax = toNumber(document.getElementById('p1').value) + toNumber(document.getElementById('p2').value) + toNumber(document.getElementById('p3').value) + toNumber(document.getElementById('p4').value);
      const senior = document.getElementById('senior').value === 'yes';
      const detDate = document.getElementById('determineDate').value;
      if (!detDate){ document.getElementById('out234B').innerText = 'Please enter determination/assessment date.'; return; }

      if (senior){ document.getElementById('out234B').innerHTML = 'Resident senior citizen with no business/profession income selected — advance tax not applicable (no 234B interest if advance tax rules not applicable).'; return; }

      // Assessed tax for purpose of 234B = tax payable - TDS/TCS - relief
      let assessedTax = taxPayable - tds - relief; if (assessedTax < 0) assessedTax = 0;
      // shortfall = assessedTax - advanceTax
      let shortfall = assessedTax - advanceTax; if (shortfall < 0) shortfall = 0;

      // months from April 1 of AY to determination date
      // determine AY: if determination date is in calendar year YYYY, AY = YYYY (if date >= Apr 1) ? YYYY+1? Simpler: use April 1 preceding the determination date's AY.
      const det = new Date(detDate);
      const year = det.getFullYear();
      // March is month 2? We'll compute AY start as April 1 of (det.getMonth() >= 3 ? det.getFullYear() : det.getFullYear()-1) +  (we want April 1 of assessment year)
      // For ease: find April 1 of the calendar year that starts the AY that contains det date
      let ayStart;
      if (det.getMonth() >= 3) { // Apr(3) .. Dec -> AY started Apr 1 of this year
        ayStart = new Date(det.getFullYear(),3,1);
      } else { // Jan-Feb-Mar => AY started Apr 1 of previous year
        ayStart = new Date(det.getFullYear()-1,3,1);
      }

      const months = monthsPartBetween(ayStart.toISOString().slice(0,10), detDate);
      const interest = shortfall * 0.01 * months;

      document.getElementById('out234B').innerHTML = `<strong>Assessed tax (tax - TDS - relief):</strong> ${formatINR(assessedTax)}<br><strong>Advance tax paid:</strong> ${formatINR(advanceTax)}<br><strong>Shortfall:</strong> ${formatINR(shortfall)}<br><strong>Months (from Apr 1 to ${detDate}):</strong> ${months}<br><strong>Interest @1%/month:</strong> ${formatINR(interest)}`;
    });

    // 234C
    document.getElementById('calc234C').addEventListener('click', ()=>{
      const taxPayable = toNumber(document.getElementById('taxPayable').value);
      // For advance tax instalments required amounts (based on taxPayable)
      const req1 = taxPayable * 0.15;
      const req2 = taxPayable * 0.45;
      const req3 = taxPayable * 0.75;
      const req4 = taxPayable * 1.00;

      const paid1 = toNumber(document.getElementById('p1').value);
      const paid2 = toNumber(document.getElementById('p2').value);
      const paid3 = toNumber(document.getElementById('p3').value);
      const paid4 = toNumber(document.getElementById('p4').value);

      const d1 = document.getElementById('d1').value; const d2 = document.getElementById('d2').value; const d3 = document.getElementById('d3').value; const d4 = document.getElementById('d4').value;

      // For each instalment compute shortfall = required amount - amount paid till due date
      // Note: "amount paid till due date" should be cumulative across earlier payments. Here inputs are expected to be cumulative paid amounts till that due date.
      const short1 = Math.max(0, req1 - paid1);
      const short2 = Math.max(0, req2 - paid2);
      const short3 = Math.max(0, req3 - paid3);
      const short4 = Math.max(0, req4 - paid4);

      // months from due date+1 to actual payment date for each shortfall. If no payment date provided, use today.
      const yearRef = (new Date()).getFullYear(); // we don't strictly know AY — user dates should be provided; but we will build due dates for the AY matching inputs' year if empty

      function dueDateStr(monthDay, detYear){
        // monthDay like '06-15' (MM-DD)
        return detYear + '-' + monthDay;
      }

      // Determine year for due dates: if user provided any payment date, use its year; otherwise use current year
      const anyDate = d1||d2||d3||d4;
      const useYear = anyDate ? new Date(anyDate).getFullYear() : yearRef;

      const due1 = useYear + '-06-15';
      const due2 = useYear + '-09-15';
      const due3 = useYear + '-12-15';
      const due4 = useYear + '-03-15';

      const months1 = short1>0 ? monthsPartBetween(due1, d1 || new Date().toISOString().slice(0,10)) : 0;
      const months2 = short2>0 ? monthsPartBetween(due2, d2 || new Date().toISOString().slice(0,10)) : 0;
      const months3 = short3>0 ? monthsPartBetween(due3, d3 || new Date().toISOString().slice(0,10)) : 0;
      const months4 = short4>0 ? monthsPartBetween(due4, d4 || new Date().toISOString().slice(0,10)) : 0;

      const int1 = short1 * 0.01 * months1;
      const int2 = short2 * 0.01 * months2;
      const int3 = short3 * 0.01 * months3;
      const int4 = short4 * 0.01 * months4;

      const total = int1 + int2 + int3 + int4;

      const out = [];
      out.push(`<strong>Total advance tax required (per percentages):</strong> ${formatINR(req4)}`);
      out.push(`<table><tr><th>Inst</th><th>Required</th><th>Paid till due</th><th>Shortfall</th><th>Months</th><th>Interest</th></tr>`);
      out.push(`<tr><td>1 (15 Jun)</td><td>${formatINR(req1)}</td><td>${formatINR(paid1)}</td><td>${formatINR(short1)}</td><td>${months1}</td><td>${formatINR(int1)}</td></tr>`);
      out.push(`<tr><td>2 (15 Sep)</td><td>${formatINR(req2)}</td><td>${formatINR(paid2)}</td><td>${formatINR(short2)}</td><td>${months2}</td><td>${formatINR(int2)}</td></tr>`);
      out.push(`<tr><td>3 (15 Dec)</td><td>${formatINR(req3)}</td><td>${formatINR(paid3)}</td><td>${formatINR(short3)}</td><td>${months3}</td><td>${formatINR(int3)}</td></tr>`);
      out.push(`<tr><td>4 (15 Mar)</td><td>${formatINR(req4)}</td><td>${formatINR(paid4)}</td><td>${formatINR(short4)}</td><td>${months4}</td><td>${formatINR(int4)}</td></tr>`);
      out.push(`</table><br><strong>Total interest under 234C:</strong> ${formatINR(total)}`);

      document.getElementById('out234C').innerHTML = out.join('
');
    });

  </script>
</body>
</html>
